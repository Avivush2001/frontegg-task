"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _LoginState = require("../../auth/LoginState");
var _dummy = require("../dummy");
var _helpers = require("../helpers");
var _default = (store, api, sharedActions) => {
  const actions = sharedActions;
  const originalActions = (0, _LoginState.buildLoginActions)(store, api, actions);
  const mockedActions = (0, _helpers.mockActionsExpect)(originalActions, ['setLoginState', 'resetLoginState', 'afterAuthNavigation']);
  mockedActions.requestAuthorize = async firstTime => {
    if (firstTime) {
      actions.setAuthState({
        isLoading: true
      });
    }
    const user = _dummy.userDemo;
    await actions.loadTenants();
    actions.setAuthState({
      user,
      isAuthenticated: true,
      isLoading: false
    });
  };
  mockedActions.getUserIP = async payload => {
    const {
      callback
    } = payload;
    try {
      const {
        ip
      } = _dummy.dummyIps[0];
      await actions.setAuthState({
        userIpData: {
          ip
        },
        userIp: ip
      });
      callback == null ? void 0 : callback(true, ip);
    } catch (e) {
      callback == null ? void 0 : callback(false, e);
    }
  };
  return mockedActions;
};
exports.default = _default;