"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.AuditsApi = void 0;
var _objectWithoutPropertiesLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutPropertiesLoose"));
var _constants = require("../constants");
var _BaseApiClient = require("../BaseApiClient");
const _excluded = ["endpoint", "headerProps"];
class AuditsApi extends _BaseApiClient.BaseApiClient {
  constructor(appName) {
    super(appName);
    this.getAudits = async params => {
      return this.get(_constants.urls.audits.v1, params);
    };
    this.getAuditsStats = async params => {
      return this.get(`${_constants.urls.audits.v1}/stats`, params);
    };
    this.exportAudits = async params => {
      const {
          endpoint,
          headerProps
        } = params,
        restParams = (0, _objectWithoutPropertiesLoose2.default)(params, _excluded);
      return this.postDownload(`${_constants.urls.audits.v1}/export/${endpoint}`, {
        properties: headerProps
      }, restParams);
    };
  }

  /**
   * Fetches audit logs based on the provided parameters.
   *
   * @param params - Parameters to filter and paginate audits.
   * @returns A promise that resolves to the list of audits.
   */
}
exports.AuditsApi = AuditsApi;
var _default = new AuditsApi('default');
exports.default = _default;