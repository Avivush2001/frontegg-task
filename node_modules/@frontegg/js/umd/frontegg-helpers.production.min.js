!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Frontegg=t():e.Frontegg=t()}(window,(()=>(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var n=function(t){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(n)?n:String(n)}function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function u(e,t,n){return u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},u.apply(null,arguments)}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,i(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,e)},c(e)}var s,f,a,l="app-url",p=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(p,t);var u,c,s,f,a=(s=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var t,n=i(s);if(f){var o=i(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return function(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return r(t)}(this,t)});function p(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=a.call(this)).appUrl=null,e.events=["mousemove","scroll","keydown"],e.postMessageId="FE_CLEAR_IDLE_TIMEOUT",e.sendPostMessage=e.sendPostMessage.bind(r(e)),e}return u=p,(c=[{key:"sendPostMessage",value:function(){var e;this.appUrl&&null!=(e=window)&&e.parent&&window.parent.postMessage(this.postMessageId,this.appUrl)}},{key:"addEventListeners",value:function(){var e=this;this.events.forEach((function(t){window.addEventListener(t,e.sendPostMessage)}))}},{key:"removeEventListeners",value:function(){var e=this;this.events.forEach((function(t){window.removeEventListener(t,e.sendPostMessage)}))}},{key:"connectedCallback",value:function(){var e;this.appUrl=this.getAttribute(l),this.postMessageId=null!=(e=this.getAttribute("message-id"))?e:this.postMessageId,this.addEventListeners()}},{key:"disconnectedCallback",value:function(){this.removeEventListeners()}},{key:"attributeChangedCallback",value:function(e,t,n){e===l&&t!==n&&(this.appUrl=n,this.removeEventListeners(),this.addEventListeners())}}])&&n(u.prototype,c),Object.defineProperty(u,"prototype",{writable:!1}),p}(c(HTMLElement)),d="fe-idle-session-plugin",y="app-url",v="idleSessionClearTimeout",b=(s={},a=d,(f=t(f=v))in s?Object.defineProperty(s,f,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[f]=a,s);return"undefined"!=typeof window&&window.customElements&&customElements.define(d,p),function(){if("undefined"!=typeof window&&"undefined"!=typeof document){var e=Array.from(document.querySelectorAll("script")),t=null==e?void 0:e.find((function(e){var t;return null==(t=e.getAttribute("src"))?void 0:t.startsWith("https://cdn.jsdelivr.net/npm/@frontegg/js")}));if(t){var n,r=function(e){try{var t=new URL(e),n=Object.fromEntries(t.searchParams);return{appUrl:n[y],helperId:n["helper-id"]}}catch(e){return{}}}(null!=(n=t.getAttribute("src"))?n:""),o=r.appUrl,i=r.helperId;if(i!==v)return;o&&function(e,t){var n=b[e],r=document.createElement(n);t.forEach((function(e){var t=e.key,n=e.value;return r.setAttribute(t,n)})),document.body.appendChild(r)}(i,[{key:y,value:o}])}}}(),{}})()));