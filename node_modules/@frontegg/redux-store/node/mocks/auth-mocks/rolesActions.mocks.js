"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _auth = require("../../auth");
var _helpers = require("../../helpers");
var _RolesState = require("../../auth/RolesState");
var _dummy = require("../dummy");
var _helpers2 = require("../helpers");
var _default = (store, api, actions) => {
  const originalActions = (0, _RolesState.buildRolesActions)(store, api, actions);
  const mockedActions = (0, _helpers2.mockActionsExpect)(originalActions, ['setRolesState', 'setRolesStateError', 'setRolesStateLoader', 'resetRolesState']);
  mockedActions.loadRolesAndPermissions = async payload => {
    var _payload$silentLoadin;
    const key = _auth.RolesStateKeys.LOAD_ROLES;
    mockedActions.setRolesStateLoader({
      key,
      value: !((_payload$silentLoadin = payload == null ? void 0 : payload.silentLoading) != null ? _payload$silentLoadin : false)
    });
    try {
      mockedActions.setRolesState({
        roles: _dummy.rolesAdminViewerDemo
      });
    } catch (e) {
      mockedActions.setRolesStateError({
        key,
        value: (0, _helpers.errorHandler)(e)
      });
    } finally {
      mockedActions.setRolesStateLoader({
        key,
        value: false
      });
    }
  };
  return mockedActions;
};
exports.default = _default;